<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Space invanders</title>
		<link rel="stylesheet" type="text/css" href="css/invaders.css"/>
		<script>
			function JouerSon(id) {
	       		var sound = document.getElementById(id);
	       		sound.volume = 0.02;
	       		sound.play();
	   		}

	   		function musicOnOff(){

	   			var musicTab = document.querySelectorAll("audio");
	   			for (var i = musicTab.length - 1; i >= 0; i--) {
		   			if(musicOn){
		   				musicTab[i].volume=0;
		   				console.log('stop musique');
		   			}
		   			else{
		   				musicTab[i].volume=0.1;
		   				console.log('let the musique play');	
		   			}
		   		}
	   			musicOn = !musicOn;
	   		}

	   		function JouerMusic(id){
	   			//eteins toutes les musiques et allume celle passée en param
	   			var musicTab = document.querySelectorAll("audio");
	   			for (var i = musicTab.length - 1; i >= 0; i--) {
	   				musicTab[i].pause();
	   				console.log('musique');
	   			}
	   			document.getElementById(id).play();
	   		}

		</script>

	</head>
	<body>
		<header id="accueil">

						<div id="invaders">

							<h2>Space</h2> <h1> Invaders </h1>

						</div>

						<div id="points">

							<figure id="ennemis1">

								<img id="img" src="img/invadersviolet.png">
								<figcaption>= 10 pts</figcaption>
							</figure>
							<figure  id="ennemis2">
								<img id="img" src="img/invadersblanc.png" title="20 pts" >
								<figcaption>= 20 pts</figcaption>

							</figure>
							<figure id="ennemis3">
								<img id="img" src="img/invadersbleu.png" title="30 pts">
								<figcaption >= 30 pts</figcaption>

							</figure>

						</div>

						<div id="commencer">

							<p onclick="start();"> Commencer la partie</p>

						</div>

						<div id="musicMenu" class="selection" onclick="musicOnOff(); document.getElementById('musicMenu').classList.toggle('selection');">

							Music

						</div>

						<div id="touches">

							<p> Comment jouer ? Fleches gauche-droite pour se deplacer. Espace pour tirer. Bonne chance ! </p>

						</div>

		</header>

		<main id="jeu" class="masque" onclick="JouerSon('shoot');tir();">


			<section id="entete">

					<h2>Space</h2> <h1> Invaders </h1>
					<p id="score"></p>

			</section>

<!-- Nommer les classes avec le même nom de l'identifiant et ajouter à la fin du mot "Cl" pour class et "Id" pour identifiant -->
			<section id="espaceJeu">


					<!-- bloc dans lequel on va générer les ennemis -->
					<section id="ennemiId"> </section>

					<div class="missileCl" id="missileId" ></div>

					<section class="tireurCl" id="tireurId"> </section>

			</section>


		</main>

		<!-- Ecran de fin : victoire ou defaite selon criteres -->
		<footer id="fin" class="masque">

							<p id="message">

							</p>

							<p id="scoreFin">
								
							</p>

							<div id="commencer">

								<p onclick="start();"> Rejouer </p>

							</div>

							<div id="commencer">

								<p onclick="document.getElementById('accueil').classList.remove('masque');document.getElementById('fin').classList.add('masque'); JouerMusic('musicMenuId'); "> Retour accueil </p>

							</div>
						</div>

				<audio src="bibliomusic/menu.mp3" autostart="false" loop="0" hidden="true" id="musicMenuId" volume="0.1"></audio>
				<audio src="bibliomusic/jeu.mp3" autostart="false" loop="0" hidden="true" id="musicJeuId" volume="0.1"></audio>
				<audio src="bibliomusic/defaite.mp3" autostart="false" loop="0" hidden="true" id="musicDefaiteId" volume="0.1"></audio>
				<audio src="bibliomusic/victoire.mp3" autostart="false" loop="0" hidden="true" id="musicVictoireId" volume="0.1"></audio>

				<audio autoplay="false" id="shoot" src="bibliomusic/shoot.wav"></audio>
        
        <audio autoplay="false" id="explose" src="bibliomusic/explosion.wav"></audio>
				

				<script type="text/javascript" src="js/Initialisation.js"></script>
				<script type="text/javascript" src="js/Start.js"></script>
				<script type="text/javascript" src="js/Ennemi.js"></script>
				<script type="text/javascript" src="js/Tireur.js"></script>
				<script type="text/javascript" src="js/Missile.js"></script>
				<script type="text/javascript" src="js/GenerationEnnemis.js"></script>
				<script type="text/javascript" src="js/FinJeu.js"></script>
				<script type="text/javascript" src="js/Deplacement.js"></script>
				<script type="text/javascript" src="js/GenerationScore.js"></script>

		</footer>
	</body>
</html>
